.workflow-visualizer {
  @apply bg-dark-900 rounded-xl border border-dark-800 overflow-hidden;
}

.workflow-header {
  @apply flex items-center justify-between px-6 py-4 border-b border-dark-800;
}

.workflow-canvas {
  @apply relative overflow-auto bg-dark-950/50;
  height: 600px;
}

.workflow-svg {
  @apply w-full h-full;
}

/* Task tiles */
.task-tile {
  @apply cursor-pointer transition-all;
}

.task-tile:hover .task-tile-bg {
  @apply opacity-80;
  filter: brightness(1.1);
}

.task-tile-bg {
  @apply transition-all duration-200;
  stroke-width: 2;
}

.task-header {
  @apply select-none;
}

/* Connections */
.connection-line {
  @apply transition-all duration-300;
  stroke-dasharray: 5, 5;
  animation: dash 20s linear infinite;
}

@keyframes dash {
  to {
    stroke-dashoffset: -100;
  }
}

.connection-dot {
  @apply animate-pulse;
}

/* Task edit form */
.task-edit-form {
  @apply space-y-1 p-1;
}

/* Task details panel */
.task-details {
  @apply absolute bottom-0 right-0 w-80 bg-dark-800 border-l border-t border-dark-700 rounded-tl-lg p-4;
  max-height: 400px;
  overflow-y: auto;
}

/* Status colors */
.status-queued {
  @apply border-gray-500 bg-gray-500/10;
}

.status-running {
  @apply border-yellow-500 bg-yellow-500/10;
  animation: pulse 2s infinite;
}

.status-completed {
  @apply border-green-500 bg-green-500/10;
}

.status-failed {
  @apply border-red-500 bg-red-500/10;
}

.status-blocked {
  @apply border-orange-500 bg-orange-500/10;
}

/* Parallel task indicator */
.parallel-indicator {
  @apply absolute -left-8 top-1/2 transform -translate-y-1/2;
  width: 4px;
  height: 100%;
  @apply bg-brand-500/50;
}

/* Sequential task indicator */
.sequential-indicator {
  @apply absolute left-1/2 -top-8 transform -translate-x-1/2;
  width: 2px;
  height: 32px;
  @apply bg-brand-500/50;
}

/* Hover effects */
.task-tile:hover .task-actions {
  @apply opacity-100;
}

.task-actions {
  @apply opacity-0 transition-opacity duration-200;
}

/* Zoom controls */
.zoom-controls {
  @apply absolute top-4 left-4 flex flex-col gap-2 bg-dark-800 rounded-lg p-2 border border-dark-700;
}

.zoom-btn {
  @apply p-2 hover:bg-dark-700 rounded transition-colors;
}

/* Grid background */
.workflow-grid {
  background-image: 
    linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* Animation for running tasks */
@keyframes running-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.02);
  }
}

.task-running {
  animation: running-pulse 2s ease-in-out infinite;
}

/* Drag and drop indicators */
.drop-indicator {
  @apply absolute inset-0 border-2 border-dashed border-brand-500 rounded-lg pointer-events-none;
  animation: pulse 1s infinite;
}

.drag-preview {
  @apply opacity-50;
}

/* Connection styles for different states */
.connection-active {
  stroke: rgb(34, 197, 94);
  stroke-width: 3;
}

.connection-blocked {
  stroke: rgb(251, 146, 60);
  stroke-dasharray: 10, 5;
}

.connection-failed {
  stroke: rgb(239, 68, 68);
  stroke-dasharray: 2, 4;
}